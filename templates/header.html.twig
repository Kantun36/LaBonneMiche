<!DOCTYPE  html>
<html lang="fr">

<head>
    <link rel="icon" type="image/x-icon" href=" {{  asset('img/logobeigenoir.ico') }}" sizes="120x120" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<header>
    <div id="header">
        <nav class="navbar navbar-expand-lg navbar-light " >
            <div class="container-fluid" >
                <button class="navbar-toggler mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-center alignerdroite" id="navbarNavDropdown">
                    <nav class="navbar navbar-lights headhomer-nav">
                        <a class="navbar-brand" href="/">
                            <img src="{{ asset('img/logobeigenoir.png') }}" alt="" width="75" >
                        </a>
                    </nav>
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a id="buttonHeader4" class="nav-link dropdown-toggle ac" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Nos Produits
                                <span id="span"></span>
                                <span id="span"></span>
                                <span id="span"></span>
                            </a>
                            <ul class="dropdown-menu" id="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <li>
                                    <a class="dropdown-item " id="drop-headers" onclick="location.href='/produits'" role="button">Voir tous nos produits</a>
                                    <a class="dropdown-item " id="drop-headers" onclick="location.href='/produits'" role="button">Pain</a>
                                    <a class="dropdown-item " id="drop-headers" onclick="location.href='/produits'" role="button">Patisserie</a>
                                    <a class="dropdown-item " id="drop-headers" onclick="location.href='/produits'" role="button">Viennoiserie</a>
                                    <a class="dropdown-item " id="drop-headers" onclick="location.href='/produits'" role="button">Sandwich et salade</a>
                                </li>



                            </ul>
                        </li>
                        <li class="nav-item ">

                            <a id="buttonHeader"  class="nav-link ac" onclick="location.href='/actualite'" role="button">
                                Nos Actualités
                                <span id="span"></span>
                                <span id="span"></span>
                                <span id="span"></span></a>

                        </li>
                        <li class="nav-item" id="HistoirePadding">

                            <a id="buttonHeader2" class="nav-link ac" onclick="location.href='/histoire'" role="button">
                                Notre Histoire
                                <span id="span"></span>
                                <span id="span"></span>
                                <span id="span"></span></a>

                        </li>
                        <li class="nav-item">

                            <a id="buttonHeader" class="nav-link ac" onclick="location.href='/contact/new'" role="button">
                                Nous contacter
                                <span id="span"></span>
                                <span id="span"></span>
                                <span id="span"></span></a>

                        </li>
                    </ul>
                </div>

                <div class="Bonjour">

                    {%  if app.user %}

                        <p class="BonjourHome"> Bonjour {{ app.user.PrenomUser }}</p>

                    {% else %}
                        <p class="BonjourHome">Connectez-vous</p>
                    {% endif %}

                </div>

                <div class="align-content-end buttonLog" >

                    {% if app.user %}
                        <a class="hoverbtnpl" onclick="location.href='/espaceperso'" role="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40"  fill="currentColor" class="bi bi-person-circle glyphicon b-icon" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                            </svg>
                        </a>
                    {% else %}
                        <a class="hoverbtnpl" onclick="location.href='/login'" role="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40"  fill="currentColor" class="bi bi-person-circle glyphicon b-icon" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                            </svg>
                        </a>
                    {% endif %}

                </div>






                <div class="align-content-end " >
                    <ul class="navbar-right bouton-panier">
                        <li><a href="#" id="cart" class="align-content-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40"  fill="currentColor" class="bi bi-cart2 glyphicon b-icon" viewBox="0 0 16 16"  >
                                    <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                                </svg>
                                <span class="badge">
                                {% if app.session.get('panier') %}
                                    {{ app.session.get('panierData').data.quantitePanier }}
                                {% else %}
                                    0
                                {% endif %}
                            </span></a></li>
                    </ul>
                </div>



            </div>
        </nav>
    </div>

    <div class="container">
        <div class="shopping-cart">
            <div class="shopping-cart-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="40"  fill="currentColor" class="bi bi-cart2 glyphicon b-icon" viewBox="0 0 16 16"  >
                    <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                </svg>
                <span class="badge">

                    {% if app.session.get('panier') %}
                        {{ app.session.get('panierData').data.quantitePanier }}
                    {% else %}
                        0
                    {% endif %}



                </span>
                <div class="shopping-cart-total">
                    <span class="lighter-text text-panier">Total:</span>
                    <span class="main-color-text">
                        {% if app.session.get('panier') %}
                            {{ app.session.get('panierData').data.prixPanier }}
                        {% endif %}
                    </span>
                </div>
            </div>

            <ul class="shopping-cart-items">
                {% if app.session.get('panier') %}

                    {% for element in app.session.get('panierData').produits %}
                        <li class="clearfix">
                            <img src="{{asset('img/'~element.produit.getCategorie~'/'~element.produit.getNomProduit~'.jpg')}}" class="img-responsive" width="30%">
                            <span class="item-name">{{ element.produit.nomProduit }}</span>
                            <span class="item-price">{{ element.produit.prixProduit }}€</span>
                            <span class="item-quantity">Quantite : {{ element.quantite }}</span>
                            <a href="{{ path('panier_delete_all',{'id': element.produit.id}) }}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x btn-badge" viewBox="0 0 16 16">
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </a>
                            <div class="quantity">
                                <a href="{{ path('panier_delete',{ 'id':element.produit.id }) }}" type="button" value="-" class="minus">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash btn-badge" viewBox="0 0 16 16">
                                        <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                </a>
                                <input type="text" name="quantity" title="Qty" value="{{ element.quantite }}" class="qty" size="4">
                                <a href="{{ path('panier_add',{ 'id':element.produit.id }) }}" type="button" value="+" class="plus">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus btn-badge" viewBox="0 0 16 16">
                                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                </a>
                            </div>
                        </li>
                    {% endfor %}
                {% else %}
                    <li>
                        Panier vide
                    </li>
                {% endif %}






                {% if app.user %}
                    <a href="{{ path('panier') }}" class="button" id="btnregisterlogin">Aller au Panier</a>
                {% else %}
                    <a href="{{ path('app_login') }}" class="button" id="btnregisterlogin">Se connecter</a>
                {% endif %}

            </ul>
        </div>
    </div>





    <script>
        (function(){
            $(".shopping-cart").hide();
            $("#cart").on("click", function() {
                $(".shopping-cart").fadeToggle( "fast");
            });

        })();
    </script>

    <script>
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }



    </script>

</header>

</html>